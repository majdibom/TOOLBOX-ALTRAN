<div class="title">
  <h3>{{'Détails du Risque : #' | translate}}{{risk?.id}}</h3>
</div>
<div class="content">
  
    <div class="row">
      <div class="col-lg-4">
        <div class="profile-card-4 z-depth-3">
          <!-- action generale information section -->
          <div class="card">
            <div class="card-body text-center bg-altran rounded-top">
              <h6 class="text-light">{{'Pilote de risque ' | translate}} :</h6>
              <h5 class="mb-1 text-white">
                {{risk?.riskPilote?.firstName}}&nbsp;{{risk?.riskPilote?.lastName}}</h5>
            </div>
            <div class="card-body">
              <ul class="list-group shadow-none">
                <li class="list-group-item">
                  <div class="list-icon">
                    <i class="fa fa-cog" aria-hidden="true"></i>
                  </div>
                  <div class="list-details">
                    <span>{{'Probability' | translate}}: </span><span>{{risk?.probability}}</span>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="list-icon">
                    <i class="fa fa-thumb-tack"></i>
                  </div>
                  <div class="list-details">
                    <span>{{'Statut' | translate}}: </span>
                    <span *ngIf="risk?.riskStatus == 'Open'" class="badge badge-success">{{risk?.riskStatus}}</span>
                    <span *ngIf="risk?.riskStatus == 'Closed'" class="badge badge-danger">{{risk?.riskStatus}}</span>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="list-icon">
                    <i class="fa fa-sort-amount-desc" aria-hidden="true"></i>
                  </div>
                  <div class="list-details">
                    <span>{{'Severity' | translate}}: </span>{{risk?.severity}}
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="list-icon">
                    <i class="fa fa-arrows-v" aria-hidden="true"></i>
                  </div>
                  <div class="list-details">
                    <span>{{'Exposure' | translate}}: </span>
                    <span *ngIf="risk?.exposure == 'Low'" class="badge badge-secondary">{{risk?.exposure}}</span>
                    <span *ngIf="risk?.exposure == 'Normal'" class="badge badge-info">{{risk?.exposure}}</span>
                    <span *ngIf="risk?.exposure == 'High'" class="badge badge-warning">{{risk?.exposure}}</span>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="list-icon">
                    <i class="fa fa-percent" aria-hidden="true"></i>
                  </div>
                  <div class="list-details">
                    <span>{{'Risk Priority' | translate}}: </span>
                    <span *ngIf="risk?.riskPriority == 'Low'" class="badge badge-secondary">{{risk?.riskPriority}}</span>
                    <span *ngIf="risk?.riskPriority == 'Normal'" class="badge badge-info">{{risk?.riskPriority}}</span>
                    <span *ngIf="risk?.riskPriority == 'High'" class="badge badge-warning">{{risk?.riskPriority}}</span>
                  </div>
                </li>
                <li class="list-group-item">
                  <div class="list-icon">
                    <i class="fa fa-percent" aria-hidden="true"></i>
                  </div>
                  <div class="list-details">
                    <span>{{'Risk Strategy' | translate}}: </span>{{risk?.riskStrategy}} 
                  </div>
                </li>
              </ul>
              <div class="row text-center mt-4">
                <div class="col p-2">
                  <h4 class="mb-1 line-height-5" style="font-size: 20px">{{risk?.detectionDate |
                                            date:'dd/MM/yyyy'}}</h4>
                  <small class="mb-0 font-weight-bold">{{'Date d identification' | translate}}</small>
                </div>
                <div class="col p-2">
                  <h4 class="mb-1 line-height-5" style="font-size: 20px">{{risk?.closureDate |
                                        date:'dd/MM/yyyy'}}</h4>
                  <small class="mb-0 font-weight-bold">{{'Date de fermeture' | translate}}</small>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="col-lg-8">
        <div class="card z-depth-3">
          <div class="card-body">
            <ul class="nav nav-pills nav-pills-primary nav-justified">
              <!-- Details menu -->
              <li class="nav-item">
                <a href="javascript:void();" data-target="#detail" data-toggle="pill" class="nav-link active show"><i
                    class="icon-user"></i> <span class="hidden-xs">{{'plus d information ' | translate}}</span></a>
              </li>
              

            </ul>
            <div class="tab-content p-3">
              <!-- Details section -->
              <div class="tab-pane active show" id="detail">
                <h5 class="mb-3"></h5>
                <div class="row">
                 
              
                </div>
                <!-- Interviews information section -->
                <div class="tab-pane" id="quizzes">
                  <div class="row">
                    <div class="col-lg-12">
                    <div class="col-lg-12">
                      <h5><strong>{{'impact :' | translate}}</strong>{{risk?.impact}}</h5>
                    </div>
                    <div class="col-lg-12">
                      <h5><strong>{{'Identification des facteurs  +/- :' | translate}}</strong>{{risk?.factorsIdentif}}</h5>
                    </div>
                   <!-- Actions list Table -->
                    <div class="table-responsive-lg">
                      <h5><strong>{{'Actions'| translate}}</strong></h5>
                      <table class="table table-bordered table-striped table-hover">
                        <thead class="row-border hover">
                          <tr>
                            <th style="width: 2%;">{{'#' | translate}}</th>
                            <th style="width: 25%;">{{'Description' | translate}}</th>
                            <th style="width: 20%;" class="text-center">{{'Actions' | translate}}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let action of risk?.actions | paginate: { itemsPerPage: item, currentPage: p, totalItems: total }">
                            <td>{{action.id}}</td>
                            <td>{{action.description}}</td>

                            <td class="text-center">
                              <button type="button" class="btn btn-detail" title="Afficher les details de cette action" data-toggle="modal"
                                data-target="#detailsmodal" (click)="openDetails(action.id)"><i
                                  class="fa fa-align-justify"></i></button>&nbsp;
                              &nbsp;
                              <button type="button" class="btn btn-danger btn-circle" title="Supprimer cette action"
                                (click)="deleteActions(action.id)"><i class="fa fa-remove"></i></button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <!-- No data in table message-->
                      <div *ngIf="risk?.actions?.length==0">
                        <div class="nodata-box">
                          <div class="nodata-text" id="no-data-available">{{'Aucune donnée trouvée.' | translate}}</div>
                        </div>
                      </div>
                    
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>